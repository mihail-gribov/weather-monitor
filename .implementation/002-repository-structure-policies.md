# Структура репозитория и политики разработки

- Номер: 002
- Depends on: [001]
- Спецификация: `.specification/03_implementation_roadmap.md#структура-проекта`, `.specification/04_technical_architecture.md#модульная-структура`
- Тип: infra
- Приоритет: P1
- Статус: done

## Definition of Ready
- Все зависимости закрыты; ссылки на спецификацию валидны; Inputs/Outputs описаны; команды запуска/проверки даны.

## Контекст
Необходимо зафиксировать структуру репозитория для новых модулей и установить политики разработки согласно требованиям проекта.

## Цель
Создать четкую структуру каталогов для новых модулей и зафиксировать политики разработки (комментарии на английском, .gitignore, CI требования).

## Inputs
- Переменные окружения: нет
- Входные артефакты: существующая структура проекта, `.gitignore`

## Outputs
- Созданные директории для новых модулей
- Обновленный `.gitignore`
- Документированные политики разработки
- Структура для тестов новых модулей

## Объем работ (Scope)
1) Создание директорий согласно спецификации:
   - `web/` (веб-интерфейс)
   - `web/static/` (CSS, JS, изображения)
   - `web/templates/` (HTML шаблоны)
   - `web/templates/components/` (компоненты UI)
   - `tests/` (если не существует)
2) Создание файлов-заглушек:
   - `plotting.py`
   - `interactive.py`
   - `web_server.py`
   - `web/__init__.py`
3) Обновление `.gitignore`:
   - Добавление `venv/` и артефактов окружений
   - Исключение временных файлов графиков
4) Документирование политик в README.md:
   - Комментарии в коде на английском языке
   - Коммиты и PR-описания на английском языке
   - CI требования (lint + type-check + tests + build)
- Out of scope: реализация функциональности модулей, настройка CI

## Артефакты
- `web/` (директория создана)
- `web/static/css/`, `web/static/js/`, `web/static/images/` (директории созданы)
- `web/templates/`, `web/templates/components/` (директории созданы)
- `plotting.py`, `interactive.py`, `web_server.py` (файлы-заглушки)
- `web/__init__.py` (создан)
- `.gitignore` (обновлен)
- `README.md` (обновлен раздел с политиками)

## Acceptance criteria
- Команда: `find . -type d -name "web"` → найдена директория `./web`
- Команда: `ls web/static/` → вывод содержит `css js images`
- Команда: `ls web/templates/` → вывод содержит `components`
- Команда: `python -c "import plotting, interactive, web_server"` → код 0 (импорт заглушек)
- Файл `.gitignore` содержит строки `venv/` и `*.png` (временные графики)
- README.md содержит раздел "Development Policies" на английском языке

## Тесты
- Unit: проверка импорта созданных модулей-заглушек
- Integration: проверка что .gitignore корректно исключает файлы
- E2E: создание тестового файла в venv/ и проверка что git его игнорирует

## Команды для проверки
```bash
# проверка структуры директорий
find . -type d -name "web*" | sort
ls -la web/static/
ls -la web/templates/
# проверка импорта заглушек
python -c "import plotting; print('plotting OK')"
python -c "import interactive; print('interactive OK')"
python -c "import web_server; print('web_server OK')"
# проверка .gitignore
echo "test" > venv/test.txt
git status --porcelain | grep -v "venv/test.txt" || echo "gitignore works"
rm -f venv/test.txt
```

## Definition of Done
- Lint/type-check/tests/build OK
- Все директории созданы согласно спецификации
- Файлы-заглушки модулей созданы и импортируются
- .gitignore обновлен и корректно исключает файлы
- Политики разработки документированы в README.md
- Статус задачи обновлён на `done`

## Риски и допущения
- Риск: конфликт с существующими файлами проекта
- Допущение: директория `web/` не существует в проекте
- Допущение: права на создание файлов и директорий в проекте есть

## Ссылка на следующую задачу
- 003

## Отчет о выполнении

**Дата выполнения:** 2025-01-27 15:45

### Выполненные работы:
1. ✅ Создание директорий согласно спецификации:
   - `web/` (веб-интерфейс)
   - `web/static/css/`, `web/static/js/`, `web/static/images/` (статические файлы)
   - `web/templates/`, `web/templates/components/` (HTML шаблоны)
   - `tests/` (директория для тестов)
2. ✅ Создание файлов-заглушек:
   - `plotting.py` - модуль для визуализации данных
   - `interactive.py` - модуль для интерактивного выбора
   - `web_server.py` - модуль веб-сервера
   - `web/__init__.py` - инициализация веб-пакета
3. ✅ Обновление `.gitignore`:
   - Добавлены исключения для временных файлов графиков (*.png, *.jpg, *.svg, *.pdf)
   - Добавлены директории charts/ и plots/
4. ✅ Документирование политик в README.md:
   - Добавлен раздел "Development Policies"
   - Описаны стандарты кода (комментарии на английском)
   - Документирована структура проекта
   - Описаны требования к качеству кода

### Особенности реализации:
- **Структура модулей:** Все модули созданы как заглушки с TODO комментариями для будущей реализации
- **Веб-пакет:** Создан как отдельный Python-пакет с правильной структурой
- **Gitignore:** Обновлен для исключения временных файлов графиков и артефактов
- **Документация:** Политики разработки документированы на английском языке согласно требованиям

### Технические детали:
- **Импорт модулей:** Все созданные модули-заглушки успешно импортируются
- **Структура директорий:** Создана полная структура для веб-интерфейса
- **Тестирование:** Директория tests/ создана для будущих тестов
- **Версионирование:** Веб-пакет имеет версию 1.0.0

### Созданные файлы и директории:
- `web/` и все поддиректории
- `tests/`
- `plotting.py`, `interactive.py`, `web_server.py`
- `web/__init__.py`
- Обновлен `.gitignore`
- Обновлен `README.md` с политиками разработки
